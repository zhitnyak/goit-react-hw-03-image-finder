{"version":3,"sources":["App.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/apiImg.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","state","searchQuery","handleInputChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","trim","className","css","SearchForm","this","SearchFormInput","type","autoComplete","autoFocus","placeholder","onChange","SearchFormButton","SearchFormButtonLabel","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","modalOpen","onClick","src","alt","ImageGalleryItemImage","Modal","cleanEventListener","code","window","addEventListener","removeEventListener","Overlay","fetchImg","pages","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","status","loadMore","page","images","prevState","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","error","moduleUrl","moduleAlt","modalClose","prevProps","prevSearch","nextSearch","console","log","total","color","height","width","style","textAlign","paddingTop","map","image","id","p","App","habdleFormSubmit","searchName","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6e8ccd7e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"p\":\"App_p__2D_y0\",\"App\":\"App_App__3NItw\",\"Searchbar\":\"App_Searchbar__2J280\",\"SearchForm\":\"App_SearchForm__wNcbF\",\"SearchForm-button\":\"App_SearchForm-button__1T1bK\",\"SearchForm-button-label\":\"App_SearchForm-button-label__2txh2\",\"SearchForm-input\":\"App_SearchForm-input__1Yjfo\",\"ImageGallery\":\"App_ImageGallery__F3sFr\",\"ImageGalleryItem\":\"App_ImageGalleryItem__1jPM5\",\"ImageGalleryItemImage\":\"App_ImageGalleryItemImage___wGnX\",\"Overlay\":\"App_Overlay__3uNmO\",\"Modal\":\"App_Modal__3m_al\",\"Button\":\"App_Button__3Jqpx\"};","import { Component } from \"react\";\nimport css from \"../../App.module.css\";\n\nclass Searchbar extends Component {\n  state = { searchQuery: \"\" };\n\n  handleInputChange = (e) => {\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.searchQuery.trim());\n    this.setState({ searchQuery: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={css.Searchbar}>\n        <form className={css.SearchForm} onSubmit={this.handleSubmit}>\n          <input\n            className={css.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleInputChange}\n            value={this.state.searchQuery}\n          />\n          <button type=\"submit\" className={css.SearchFormButton}>\n            <span className={css.SearchFormButtonLabel}>Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\n","import PropTypes from \"prop-types\";\nimport css from \"../../App.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, modalOpen }) => {\n  return (\n    <li\n      className={css.ImageGalleryItem}\n      onClick={() => {\n        modalOpen(largeImageURL, tags);\n      }}\n    >\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={css.ImageGalleryItemImage}\n      />\n    </li>\n  );\n};\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  modalOpen: PropTypes.func,\n  tags: PropTypes.string,\n};\n","import PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport css from \"../../App.module.css\";\n\nclass Modal extends Component {\n  static propTypes = {\n    largeImageURL: PropTypes.string,\n    tags: PropTypes.string,\n    onClick: PropTypes.func,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.cleanEventListener);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.cleanEventListener);\n  }\n\n  cleanEventListener = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClick();\n    }\n  };\n  render() {\n    const { onClick, largeImageURL, alt } = this.props;\n    return (\n      <div className={css.Overlay} onClick={onClick}>\n        <div className={css.Modal}>\n          <img src={largeImageURL} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\nexport default Modal;\n\nModal.propTypes = {\n  largeImageURL: PropTypes.string,\n  tags: PropTypes.string,\n};\n","const API_KEY = \"22603097-01ea7c9e46d89c9af2e821f90\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nfunction fetchImg(searchQuery, pages) {\n  return fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${pages}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`No images on request`));\n  });\n}\n\nexport { fetchImg };\n","import css from \"../../App.module.css\";\nimport PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"../Button/Button\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"../Modal/Modal\";\n\nimport { fetchImg } from \"../apiImg\";\nclass ImageGallery extends Component {\n  static propTypes = {\n    images: PropTypes.arrayOf(PropTypes.object),\n  };\n  state = {\n    status: \"idle\",\n  };\n\n  componentDidUpdate(prevProps) {\n    const prevSearch = prevProps.searchQuery;\n    const nextSearch = this.props.searchQuery;\n    const page = 1;\n    if (prevSearch !== nextSearch) {\n      this.setState({ status: \"pending\", page: 1 });\n\n      fetchImg(nextSearch, page)\n        .then((images) => {\n          console.log(images);\n\n          if (images.total === 0) {\n            this.setState({ error: \"No any picture\", status: \"rejected\" });\n          } else {\n            console.log(images.hits);\n\n            this.setState({\n              images: images.hits,\n              status: \"resolved\",\n              page: 1,\n              searchQuery: nextSearch,\n            });\n          }\n        })\n        .catch((error) => this.setState({ error, status: \"rejected\" }));\n    }\n  }\n  loadMore = () => {\n    const search = this.state.searchQuery;\n    const page = this.state.page + 1;\n\n    fetchImg(search, page)\n      .then((images) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images.hits],\n          page: prevState.page + 1,\n        }))\n      )\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => this.setState({ error }));\n  };\n  modalOpen = (moduleUrl, moduleAlt) => {\n    this.setState({\n      largeImageURL: moduleUrl,\n      alt: moduleAlt,\n    });\n  };\n  modalClose = () => {\n    this.setState({ largeImageURL: \"\", alt: \"\" });\n  };\n\n  render() {\n    const { images, status } = this.state;\n    if (status === \"idle\") {\n      return <p></p>;\n    }\n    if (status === \"pending\") {\n      return (\n        <Loader\n          type=\"Oval\"\n          color=\"#DCB60E\"\n          height={60}\n          width={60}\n          style={{ textAlign: \"center\", paddingTop: \"20px\" }}\n        />\n      );\n    }\n    if (status === \"resolved\") {\n      return (\n        <ul className={css.ImageGallery}>\n          {images.map((image) => {\n            return (\n              <ImageGalleryItem\n                key={image.id}\n                tags={image.tags}\n                webformatURL={image.webformatURL}\n                largeImageURL={image.largeImageURL}\n                modalOpen={this.modalOpen}\n              />\n            );\n          })}\n          <Button onClick={this.loadMore} />\n          {this.state.largeImageURL && (\n            <Modal\n              largeImageURL={this.state.largeImageURL}\n              alt={this.state.alt}\n              onClick={this.modalClose}\n            />\n          )}\n        </ul>\n      );\n    }\n    if (status === \"rejected\") {\n      return (\n        <p className={css.p}>Sorry, \"{this.props.searchQuery}\" not found</p>\n      );\n    }\n  }\n}\nexport default ImageGallery;\nImageGallery.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n};\n","import React, { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"null\",\n  };\n\n  habdleFormSubmit = (searchName) => {\n    if (searchName) {\n      this.setState({ searchQuery: searchName });\n    }\n    return;\n  };\n  render() {\n    const { searchQuery } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={this.habdleFormSubmit} />\n        <ImageGallery searchQuery={searchQuery} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}